<section class="home-content py-5">
  <div class="overview-boxes">
    <div class="box">
      <div class="right-side">
        <a href="/university/certificate/table" class="box-topic">Validate Certificate</a>
      </div>
    </div>

    
    <div class="box">
      <div class="right-side">
        <a href="/university/my/account" class="box-topic">My Account</a>
      </div>
    </div>
  </div>

  <div class="table-wrapper">
    <div class="new-table w-full mx-auto table-certificate">
      
      <div class="table-row table-header">
        

        <div class="cell">
          Student Name
        </div>
        <div class="cell">
          Student ID
        </div>
        <div class="cell">
           Email
        </div>
        <div class="cell">
           CGPA 
        </div>
        <div class="cell">
          Major
        </div>
        <div class="cell">
          Minor
        </div>
        <div class="cell">
          Created At 
        </div>
        <div class="cell">
          Maker's Comments
        </div>
        
      </div>
     <% if(certificates.length>0){ %>
      <% certificates.forEach(function(certificate) { %>
        <div class="table-row table-body">
          
        
       <div class="cell" data-title="Verify Status">
          <%= certificate.full_name %>
       </div>
       <div class="cell" data-title="Verify Status">
        <%= certificate.student_id %>
       </div>
       <div class="cell" data-title="Verify Status">
        <%= certificate.email_address %>
       </div>
       <div class="cell" data-title="Verify Status">
        <%= certificate.cgpa %>
       </div>
       <div class="cell" data-title="Verify Status">
        <%= certificate.major %>
       </div>
       <div class="cell" data-title="Verify Status">
        <%= certificate.minor %>
       </div>
       <div class="cell" data-title="Registration Date">
        <%= moment(certificate.created_at).format('MMMM Do YYYY, h:mm:ss a') %>
       </div>
       <div class="cell" data-title="Verify Status">
        <button class="modal-open bg-transparent border border-gray-500 hover:border-indigo-500 text-gray-500 hover:text-indigo-500 font-bold py-2 px-4 rounded-full">Open Modal</button>
         
       </div>  
      </div>
        <% })}else{ %>
        <div>
          <p class='content-center text-3xl'>No Pending Certificates at the moment. You will notified when
            a certificate needs to be validates. Thanks
          </p>
        </div>
        <% } %>

    </div>
  </div>

  <!--Modal-->
  <div class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center">
    <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50"></div>
    
    <div class="modal-container bg-white w-3/4   mx-auto rounded shadow-lg z-50 overflow-y-auto">
      
      <div class="modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50">
        <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
        </svg>
        <span class="text-sm">(Esc)</span>
      </div>

      <!-- Add margin if you want to see some of the overlay behind the modal-->
      <div class="modal-content py-4 text-left px-6">
        <!--Title-->
        <div class="flex justify-between items-center pb-3">
          <p class="text-4xl font-bold">Simple Modal!</p>
          <div class="modal-close cursor-pointer z-50">
            <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
              <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
            </svg>
          </div>
        </div>

        <!--Body-->
        <p class="text-2xl">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>
        

        <!--Footer-->
        <div class="flex justify-end pt-2">
          <button class="px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2">Action</button>
          <button class="modal-close px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400">Close</button>
        </div>
        
      </div>
    </div>
  </div>
  
  <script>
    var openmodal = document.querySelectorAll('.modal-open')
    for (var i = 0; i < openmodal.length; i++) {
      openmodal[i].addEventListener('click', function(event){
    	event.preventDefault()
    	toggleModal()
      })
    }
    
    const overlay = document.querySelector('.modal-overlay')
    overlay.addEventListener('click', toggleModal)
    
    var closemodal = document.querySelectorAll('.modal-close')
    for (var i = 0; i < closemodal.length; i++) {
      closemodal[i].addEventListener('click', toggleModal)
    }
    
    document.onkeydown = function(evt) {
      evt = evt || window.event
      var isEscape = false
      if ("key" in evt) {
    	isEscape = (evt.key === "Escape" || evt.key === "Esc")
      } else {
    	isEscape = (evt.keyCode === 27)
      }
      if (isEscape && document.body.classList.contains('modal-active')) {
    	toggleModal()
      }
    };
    
    
    function toggleModal () {
      const body = document.querySelector('body')
      const modal = document.querySelector('.modal')
      modal.classList.toggle('opacity-0')
      modal.classList.toggle('pointer-events-none')
      body.classList.toggle('modal-active')
    }
    
     
  </script>


</section>